/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.2.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function t(e,o,n){function a(i,l){if(!o[i]){if(!e[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(r)return r(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var d=o[i]={exports:{}};e[i][0].call(d.exports,function(t){var o=e[i][1][t];return a(o?o:t)},d,d.exports,t,e,o,n)}return o[i].exports}for(var r="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(t,e,o){},{}],2:[function(t,e,o){e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function o(t,o,n){var a,r,i=t._model=t._model||{},l=n.scales[o.xScaleID],s=n.scales[o.yScaleID],f=n.chartArea,d=f.left,u=f.top,c=f.right,b=f.bottom;l&&(a=e(o.xMin)?l.getPixelForValue(o.xMin):f.left,r=e(o.xMax)?l.getPixelForValue(o.xMax):f.right,d=Math.min(a,r),c=Math.max(a,r)),s&&(a=e(o.yMin)?s.getPixelForValue(o.yMin):f.bottom,r=e(o.yMax)?s.getPixelForValue(o.yMax):f.top,u=Math.min(a,r),b=Math.max(a,r)),i.left=d,i.top=u,i.right=c,i.bottom=b,i.borderColor=o.borderColor,i.borderWidth=o.borderWidth,i.backgroundColor=o.backgroundColor}var n=t.Element.extend({draw:function(t){var e=this._view;t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.fillStyle=e.backgroundColor;var o=e.right-e.left,n=e.bottom-e.top;t.fillRect(e.left,e.top,o,n),t.strokeRect(e.left,e.top,o,n)}});return{Constructor:n,update:o}}},{}],3:[function(t,e,o){function n(t,e,o){var n=e.options.annotation;if(n.drawTime==t){var a=e._annotationObjects;if(i(a)){var r=e.chart.ctx;a.forEach(function(t){var e=n.annotations[t._index];t.transition(o).draw(r,e)})}}}var a=t("chart.js");a="function"==typeof a?a:window.Chart;var r=a.helpers,i=r.isArray;a.Annotation=a.Annotation||{};var l=(a.Annotation.defaults={drawTime:"afterDraw",annotations:[]},t("./line.js")(a)),s=t("./box.js")(a),f=a.Annotation.annotationTypes={line:l.Constructor,box:s.Constructor},d=a.Annotation.updateFunctions={line:l.update,box:s.update},u=(a.Annotation.drawTimeOptions={afterDraw:"afterDraw",afterDatasetsDraw:"afterDatasetsDraw",beforeDatasetsDraw:"beforeDatasetsDraw"},{beforeInit:function(t){var e=t.options;e.annotation=r.configMerge(a.Annotation.defaults,e.annotation);var o={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:e.defaultFontFamily,fontSize:e.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},n=e.annotation.annotations;if(i(n)){var l=t._annotationObjects=[];n.forEach(function(t,e){t.label=r.configMerge(o,t.label);var n=f[t.type];n&&l.push(new n({_index:e}))})}},afterScaleUpdate:function(t){var e=t._annotationObjects,o=t.options.annotation;i(e)&&e.forEach(function(e,n){var a=o.annotations[e._index],r=d[a.type];r&&r(e,a,t)})},afterDraw:function(t,e){n(a.Annotation.drawTimeOptions.afterDraw,t,e)},afterDatasetsDraw:function(t,e){n(a.Annotation.drawTimeOptions.afterDatasetsDraw,t,e)},beforeDatasetsDraw:function(t,e){n(a.Annotation.drawTimeOptions.beforeDatasetsDraw,t,e)}});e.exports=u,a.pluginService.register(u)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(t,e,o){var n=t("chart.js");n="function"==typeof n?n:window.Chart;var a=n.helpers;e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function o(t,e,o,n,a,r){var i={x:(n.x1+n.x2-a)/2,y:(n.y1+n.y2-r)/2};switch(t){case"top":i.y=n.y1>n.y2?n.y2:n.y1;break;case"left":i.x=n.x1>n.x2?n.x1:n.x2;break;case"bottom":i.y=n.y1>n.y2?n.y1:n.y2;break;case"right":i.x=n.x1>n.x2?n.x2:n.x1}return i.x+=e,i.y+=o,i}function n(t,o,n){var a=t._model=t._model||{},i=n.scales[o.scaleID],l=i?i.getPixelForValue(o.value):NaN,s=i&&e(o.endValue)?i.getPixelForValue(o.endValue):NaN;isNaN(s)&&(s=l);var f=n.chartArea;isNaN(l)||(o.mode==r?(a.x1=f.left,a.x2=f.right,a.y1=l,a.y2=s):(a.y1=f.top,a.y2=f.bottom,a.x1=l,a.x2=s)),a.borderColor=o.borderColor,a.borderWidth=o.borderWidth,a.borderDash=o.borderDash||[],a.borderDashOffset=o.borderDashOffset||0}var r="horizontal",i=t.Element.extend({draw:function(t,e){var n=this._view;if(t.save(),t.lineWidth=n.borderWidth,t.strokeStyle=n.borderColor,t.setLineDash&&t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,t.beginPath(),t.moveTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.stroke(),t.restore(),e.label.enabled&&e.label.content){t.fillStyle=e.label.backgroundColor,t.font=a.fontString(e.label.fontSize,e.label.fontStyle,e.label.fontFamily);var r=t.measureText(e.label.content),i=o(e.label.position,e.label.xAdjust,e.label.yAdjust,n,r.width,e.label.fontSize);a.drawRoundedRectangle(t,i.x-e.label.xPadding,i.y-e.label.yPadding,r.width+2*e.label.xPadding,e.label.fontSize+2*e.label.yPadding,e.label.cornerRadius),t.fill(),t.fillStyle=e.label.fontColor,t.textAlign="left",t.textBaseline="top",t.fillText(e.label.content,i.x,i.y)}}});return{Constructor:i,update:n}}},{"chart.js":1}]},{},[3]);