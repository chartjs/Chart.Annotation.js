/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.4.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function e(t,a,l){function o(i,r){if(!a[i]){if(!t[i]){var s="function"==typeof require&&require;if(!r&&s)return s(i,!0);if(n)return n(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var b=a[i]={exports:{}};t[i][0].call(b.exports,function(e){var a=t[i][1][e];return o(a?a:e)},b,b.exports,e,t,a,l)}return a[i].exports}for(var n="function"==typeof require&&require,i=0;i<l.length;i++)o(l[i]);return o}({1:[function(e,t,a){},{}],2:[function(e,t,a){function l(e,t){r.isArray(e.annotations)&&e.annotations.forEach(function(a){a.transition(t).draw(e.chart.ctx)})}function o(e){return e=r.configMerge(f,e),r.isArray(e.annotations)&&e.annotations.forEach(function(e){e.label=r.configMerge(u,e.label)}),e}function n(e){return e.filter(function(e){return!!c[e.type]}).map(function(e,t){var a=c[e.type];return new a({_index:t,config:e})})}var i=e("chart.js");i="function"==typeof i?i:window.Chart;var r=i.helpers;i.Annotation=i.Annotation||{};var s="afterDraw",d="afterDatasetsDraw",b="beforeDatasetsDraw";i.Annotation.drawTimeOptions={afterDraw:s,afterDatasetsDraw:d,beforeDatasetsDraw:b};var c=i.Annotation.types={line:e("./types/line.js")(i),box:e("./types/box.js")(i)},f=i.Annotation.defaults={drawTime:s,annotations:[]},u=i.Annotation.labelDefaults={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:i.defaults.global.defaultFontFamily,fontSize:i.defaults.global.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},x={afterUpdate:function(e){var t=e.options.annotation;t=o(t||{}),r.isArray(t.annotations)&&(e.annotations=n(t.annotations),e.annotations._config=t,e.annotations.forEach(function(t){t.configure(t.config,e)}))},afterDraw:function(e,t){var a=e.annotations._config;a.drawTime==s&&l(e,t)},afterDatasetsDraw:function(e,t){var a=e.annotations._config;a.drawTime==d&&l(e,t)},beforeDatasetsDraw:function(e,t){var a=e.annotations._config;a.drawTime==b&&l(e,t)}};t.exports=x,i.pluginService.register(x)},{"./types/box.js":3,"./types/line.js":4,"chart.js":1}],3:[function(e,t,a){t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}var a=e.Element.extend({configure:function(e,a){var l=this._model=this._model||{},o=a.scales[e.xScaleID],n=a.scales[e.yScaleID],i=a.chartArea;l.clip={x1:i.left,x2:i.right,y1:i.top,y2:i.bottom};var r,s,d=i.left,b=i.top,c=i.right,f=i.bottom;o&&(r=t(e.xMin)?o.getPixelForValue(e.xMin):i.left,s=t(e.xMax)?o.getPixelForValue(e.xMax):i.right,d=Math.min(r,s),c=Math.max(r,s)),n&&(r=t(e.yMin)?n.getPixelForValue(e.yMin):i.bottom,s=t(e.yMax)?n.getPixelForValue(e.yMax):i.top,b=Math.min(r,s),f=Math.max(r,s)),l.left=d,l.top=b,l.right=c,l.bottom=f,l.borderColor=e.borderColor,l.borderWidth=e.borderWidth,l.backgroundColor=e.backgroundColor},draw:function(e){var t=this._view;e.save(),e.beginPath(),e.rect(t.clip.x1,t.clip.y1,t.clip.x2-t.clip.x1,t.clip.y2-t.clip.y1),e.clip(),e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.fillStyle=t.backgroundColor;var a=t.right-t.left,l=t.bottom-t.top;e.fillRect(t.left,t.top,a,l),e.strokeRect(t.left,t.top,a,l)}});return a}},{}],4:[function(e,t,a){var l=e("chart.js");l="function"==typeof l?l:window.Chart;var o=l.helpers;t.exports=function(e){function t(e){return!isNaN(e)&&isFinite(e)}function a(e,t,a,o,i){var r=(e.x2-e.x1)/(e.y2-e.y1),s=e.x1||0,d=function(t){return r*(t-e.y1)+s},b=function(t){return(t-s)/r+e.y1},c={},f=0,u=0;switch(!0){case e.mode==n&&"top"==e.labelPosition:u=i+e.labelYAdjust,f=t/2+e.labelXAdjust,c.y=e.y1+u,c.x=(isFinite(r)?d(c.y):e.x1)-f;break;case e.mode==n&&"bottom"==e.labelPosition:u=a+i+e.labelYAdjust,f=t/2+e.labelXAdjust,c.y=e.y2-u,c.x=(isFinite(r)?d(c.y):e.x1)-f;break;case e.mode==l&&"left"==e.labelPosition:f=o+e.labelXAdjust,u=-(a/2)+e.labelYAdjust,c.x=e.x1+f,c.y=b(c.x)+u;break;case e.mode==l&&"right"==e.labelPosition:f=t+o+e.labelXAdjust,u=-(a/2)+e.labelYAdjust,c.x=e.x2-f,c.y=b(c.x)+u;break;default:c.x=(e.x1+e.x2-t)/2+e.labelXAdjust,c.y=(e.y1+e.y2-a)/2+e.labelYAdjust}return c}var l="horizontal",n="vertical",i=e.Element.extend({configure:function(e,n){var i=this._model=o.clone(this._model)||{},r=n.scales[e.scaleID],s=r?r.getPixelForValue(e.value):NaN,d=r&&t(e.endValue)?r.getPixelForValue(e.endValue):NaN;isNaN(d)&&(d=s);var b=n.chartArea,c=n.chart.ctx;i.clip={x1:b.left,x2:b.right,y1:b.top,y2:b.bottom},isNaN(s)||(e.mode==l?(i.x1=b.left,i.x2=b.right,i.y1=s,i.y2=d):(i.y1=b.top,i.y2=b.bottom,i.x1=s,i.x2=d)),i.mode=e.mode,i.labelBackgroundColor=e.label.backgroundColor,i.labelFontFamily=e.label.fontFamily,i.labelFontSize=e.label.fontSize,i.labelFontStyle=e.label.fontStyle,i.labelFontColor=e.label.fontColor,i.labelXPadding=e.label.xPadding,i.labelYPadding=e.label.yPadding,i.labelCornerRadius=e.label.cornerRadius,i.labelPosition=e.label.position,i.labelXAdjust=e.label.xAdjust,i.labelYAdjust=e.label.yAdjust,i.labelEnabled=e.label.enabled,i.labelContent=e.label.content,c.font=o.fontString(i.labelFontSize,i.labelFontStyle,i.labelFontFamily);var f=c.measureText(i.labelContent).width,u=c.measureText("M").width,x=a(i,f,u,i.labelXPadding,i.labelYPadding);i.labelX=x.x-i.labelXPadding,i.labelY=x.y-i.labelYPadding,i.labelWidth=f+2*i.labelXPadding,i.labelHeight=u+2*i.labelYPadding,i.borderColor=e.borderColor,i.borderWidth=e.borderWidth,i.borderDash=e.borderDash||[],i.borderDashOffset=e.borderDashOffset||0},draw:function(e){var t=this._view;e.save(),e.beginPath(),e.rect(t.clip.x1,t.clip.y1,t.clip.x2-t.clip.x1,t.clip.y2-t.clip.y1),e.clip(),e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,e.setLineDash&&e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke(),e.restore(),t.labelEnabled&&t.labelContent&&(e.beginPath(),e.rect(t.clip.x1,t.clip.y1,t.clip.x2-t.clip.x1,t.clip.y2-t.clip.y1),e.clip(),e.fillStyle=t.labelBackgroundColor,o.drawRoundedRectangle(e,t.labelX,t.labelY,t.labelWidth,t.labelHeight,t.labelCornerRadius),e.fill(),e.font=o.fontString(t.labelFontSize,t.labelFontStyle,t.labelFontFamily),e.fillStyle=t.labelFontColor,e.textAlign="center",e.textBaseline="middle",e.fillText(t.labelContent,t.labelX+t.labelWidth/2,t.labelY+t.labelHeight/2))}});return i}},{"chart.js":1}]},{},[2]);