/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.3.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function t(e,n,a){function o(r,i){if(!n[r]){if(!e[r]){var s="function"==typeof require&&require;if(!i&&s)return s(r,!0);if(l)return l(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[r]={exports:{}};e[r][0].call(b.exports,function(t){var n=e[r][1][t];return o(n?n:t)},b,b.exports,t,e,n,a)}return n[r].exports}for(var l="function"==typeof require&&require,r=0;r<a.length;r++)o(a[r]);return o}({1:[function(t,e,n){},{}],2:[function(t,e,n){e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function n(t,n,a){var o,l,r=t._model=t._model||{},i=a.scales[n.xScaleID],s=a.scales[n.yScaleID],d=a.chartArea,b=d.left,u=d.top,f=d.right,c=d.bottom;i&&(o=e(n.xMin)?i.getPixelForValue(n.xMin):d.left,l=e(n.xMax)?i.getPixelForValue(n.xMax):d.right,b=Math.min(o,l),f=Math.max(o,l)),s&&(o=e(n.yMin)?s.getPixelForValue(n.yMin):d.bottom,l=e(n.yMax)?s.getPixelForValue(n.yMax):d.top,u=Math.min(o,l),c=Math.max(o,l)),r.left=b,r.top=u,r.right=f,r.bottom=c,r.borderColor=n.borderColor,r.borderWidth=n.borderWidth,r.backgroundColor=n.backgroundColor}var a=t.Element.extend({draw:function(t){var e=this._view;t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.fillStyle=e.backgroundColor;var n=e.right-e.left,a=e.bottom-e.top;t.fillRect(e.left,e.top,n,a),t.strokeRect(e.left,e.top,n,a)}});return{"class":a,update:n}}},{}],3:[function(t,e,n){function a(t,e){d.isArray(t.annotations)&&t.annotations.forEach(function(n){n.transition(e).draw(t.chart.ctx)})}function o(t){d.isArray(t.annotations)&&t.annotations.forEach(function(e){var n=s.Annotation.types[e.config.type];n&&n.update(e,e.config,t)})}function l(t){return t=d.configMerge(s.Annotation.defaults,t),d.isArray(t.annotations)&&t.annotations.forEach(function(t){t.label=d.configMerge(s.Annotation.labelDefaults,t.label)}),t}function r(t){return t.filter(function(t){return!!s.Annotation.types[t.type]}).map(function(t,e){var n=s.Annotation.types[t.type];return new n["class"]({_index:e,config:t})})}function i(t){var e=t.options.annotation;if(e=l(e||{}),d.isArray(e.annotations))return t.annotations=r(e.annotations),!0}var s=t("chart.js");s="function"==typeof s?s:window.Chart;var d=s.helpers;s.Annotation=s.Annotation||{},s.Annotation.drawTimeOptions={AFTER:"afterDraw",AFTER_DATASETS:"afterDatasetsDraw",BEFORE_DATASETS:"beforeDatasetsDraw"},s.Annotation.types={line:t("./line.js")(s),box:t("./box.js")(s)},s.Annotation.defaults={drawTime:s.Annotation.drawTimeOptions.AFTER,annotations:[]},s.Annotation.labelDefaults={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:s.defaults.global.defaultFontFamily,fontSize:s.defaults.global.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null};var b={beforeInit:i,afterUpdate:function(t){i(t)&&o(t)},afterDraw:function(t,e){var n=t.options.annotation;n.drawTime==s.Annotation.drawTimeOptions.AFTER&&a(t,e)},afterDatasetsDraw:function(t,e){var n=t.options.annotation;n.drawTime==s.Annotation.drawTimeOptions.AFTER_DATASETS&&a(t,e)},beforeDatasetsDraw:function(t,e){var n=t.options.annotation;n.drawTime==s.Annotation.drawTimeOptions.BEFORE_DATASETS&&a(t,e)}};e.exports=b,s.pluginService.register(b)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(t,e,n){var a=t("chart.js");a="function"==typeof a?a:window.Chart;var o=a.helpers;e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function n(t,e,n,a,o){var i=(t.x2-t.x1)/(t.y2-t.y1),s=t.x1||0,d=function(e){return i*(e-t.y1)+s},b=function(e){return(e-s)/i+t.y1},u={},f=0,c=0;switch(!0){case t.mode==r&&"top"==t.labelPosition:c=o+t.labelYAdjust,f=e/2+t.labelXAdjust,u.y=t.y1+c,u.x=(isFinite(i)?d(u.y):t.x1)-f;break;case t.mode==r&&"bottom"==t.labelPosition:c=n+o+t.labelYAdjust,f=e/2+t.labelXAdjust,u.y=t.y2-c,u.x=(isFinite(i)?d(u.y):t.x1)-f;break;case t.mode==l&&"left"==t.labelPosition:f=a+t.labelXAdjust,c=-(n/2)+t.labelYAdjust,u.x=t.x1+f,u.y=b(u.x)+c;break;case t.mode==l&&"right"==t.labelPosition:f=e+a+t.labelXAdjust,c=-(n/2)+t.labelYAdjust,u.x=t.x2-f,u.y=b(u.x)+c;break;default:u.x=(t.x1+t.x2-e)/2+t.labelXAdjust,u.y=(t.y1+t.y2-n)/2+t.labelYAdjust}return u}function a(t,a,r){var i=t._model=o.clone(t._model)||{},s=r.scales[a.scaleID],d=s?s.getPixelForValue(a.value):NaN,b=s&&e(a.endValue)?s.getPixelForValue(a.endValue):NaN;isNaN(b)&&(b=d);var u=r.chartArea,f=r.chart.ctx;isNaN(d)||(a.mode==l?(i.x1=u.left,i.x2=u.right,i.y1=d,i.y2=b):(i.y1=u.top,i.y2=u.bottom,i.x1=d,i.x2=b)),i.mode=a.mode,i.labelBackgroundColor=a.label.backgroundColor,i.labelFontFamily=a.label.fontFamily,i.labelFontSize=a.label.fontSize,i.labelFontStyle=a.label.fontStyle,i.labelFontColor=a.label.fontColor,i.labelXPadding=a.label.xPadding,i.labelYPadding=a.label.yPadding,i.labelCornerRadius=a.label.cornerRadius,i.labelPosition=a.label.position,i.labelXAdjust=a.label.xAdjust,i.labelYAdjust=a.label.yAdjust,i.labelEnabled=a.label.enabled,i.labelContent=a.label.content,f.font=o.fontString(i.labelFontSize,i.labelFontStyle,i.labelFontFamily);var c=f.measureText(i.labelContent).width,x=f.measureText("M").width,y=n(i,c,x,i.labelXPadding,i.labelYPadding);i.labelX=y.x-i.labelXPadding,i.labelY=y.y-i.labelYPadding,i.labelWidth=c+2*i.labelXPadding,i.labelHeight=x+2*i.labelYPadding,i.borderColor=a.borderColor,i.borderWidth=a.borderWidth,i.borderDash=a.borderDash||[],i.borderDashOffset=a.borderDashOffset||0}var l="horizontal",r="vertical",i=t.Element.extend({draw:function(t){var e=this._view;t.save(),t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.setLineDash&&t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke(),t.restore(),e.labelEnabled&&e.labelContent&&(t.fillStyle=e.labelBackgroundColor,o.drawRoundedRectangle(t,e.labelX,e.labelY,e.labelWidth,e.labelHeight,e.labelCornerRadius),t.fill(),t.font=o.fontString(e.labelFontSize,e.labelFontStyle,e.labelFontFamily),t.fillStyle=e.labelFontColor,t.textAlign="center",t.textBaseline="middle",t.fillText(e.labelContent,e.labelX+e.labelWidth/2,e.labelY+e.labelHeight/2))}});return{"class":i,update:a}}},{"chart.js":1}]},{},[3]);